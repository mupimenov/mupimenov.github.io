---
layout: post
title: "Источник питания контроллера для гидропоники"
date: 2015-07-26 08:38:40 +0300
comments: true
categories: 
- гидропоника
- контроллер
- импульсный источник питания
- ir2153
- расчёт трансформатора
- расчёт дросселя
---

В качестве источника питания для [контроллера](/blog/2015/07/25/controller-for-hydroponics) используется импульсный блок на базе микросхемы IR2153.

Параметры источника питания:

* входное напряжение ~220 В &plusmn; 10 %, ток до 0,8 А;
* выходное напряжение +30 В, ток 2 А;
* выходное напряжение +12 В, ток 1 А.

Схема блока питания:
{% img /images/2015-07-26-power-supply-of-controller-for-hydroponics/PowerSource.png %}

На входе источника находится **фильтр** ЭМП на базе дросселя TR1 индуктивностью 15 мГн (номинальный ток 0,8 А) и пары конденсаторов C1 и C2 номиналами 0,47 и 0,15 мкФ.

При включении источника в сеть ~220 В происходит ограничение тока с помощью NTC термистора номиналом 20 Ом. Также в цепи ~220 В установлен предохранитель, рассчитанный на максимальный ток 0,8 А.

Сетевое напряжение ~220 В выпрямляется с помощью диодного моста BR1 (DF06S). Выпрямленное пульсирующее напряжение (примем его за Uвыпр) заряжает конденсатор С3 ёмкостью 100 мкФ. Параллельно C3 подключён шунтирующий конденсатор C4 ёмкостью 1 мкФ.

Напряжение Uвыпр делится с помощью RC-делителя на базе конденсаторов C8, C9 ёмкостью 1 мкФ и резисторов R5, R6 номиналом 180 кОм. Это делается для того, чтобы на одном конце первичной обмотки трансформатора TR2 получить потенциал равный Uвыпр/2.

Коммутацией напряжения (вернее потенциала) Uвыпр на второй конец первичной обмотки трансформатора TR1 занимается **драйвер** U1 (IR2153) и управляемые им полевые n-канальные транзисторы Q1, Q2 (IRFR310).

Питание драйвера U1 получено из сетевого напряжения с помощью резистора R1 номиналом 18 кОм (мощностью 2 Вт!), диода D1 (FR107) и конденсатора C5 ёмкость 100 мкФ (полупериодный выпрямитель; внутри драйвера находится стабилитрон с обратным напряжением 15,6 В).

Частота коммутации драйвером U1 силовых транзисторов Q1, Q2 задаётся резистором R2 и конденсатором C6, имеющими номиналы соответственно 14 кОм и 1000 пФ. Из описания драйвера частота переключения:
fsw = 1/(1,38 * CT * (RT + 75)) = 1/(1,38 * 1000 * 10<sup>-12</sup> * 14075) = 51 кГц.

Первичная обмотка трансформатора TR2 зашунтирована последовательно включёнными конденсатором C10 ёмкостью 1000 пФ и резистором R7 сопротивлением 100 Ом для исключения передачи во вторичную обмотку высокочастотных помех.

В **трансформаторе** TR2 имеются две гальванически не связанные вторичные обмотки.
Параметры трансофрматора (тип и размер сердечника, количество витков) подбирались с помощью программы Lite-CalcIT (1700):

{% img /images/2015-07-26-power-supply-of-controller-for-hydroponics/TR2.png %}

Одна из вторичных обмоток TR2 служит для получения однополярного питания +30 В. Напряжение вторичной обмотки выпрямляется с помощью диодного моста на базе диодов D3-D6 Шоттки 6CWQ10FN и сглаживается LC-фильтром. **Параметры LC-фильтра**:

* Начальные данные: входное напряжение VIN=60В, выходное напряжение VOUT=30В, частота переключений fsw = 50 кГц, выходной ток IOUT = 3 А, размах пульсаций тока в индуктивности Iripple = 1 А.
* Расчёт: 
L1 = (VIN-VOUT) * Ton/Iripple = (60 – 30) * 0,5 * (1/50000)/1 = 300 (330) мкГ. 
Примем C11 = 220 мкФ (100 В, ESR = 0,6 Ом). Тогда пульсации напряжения на конденсаторе составят Vripple = Iripple * ESR = 0,6 В.

Вторая обмотка трансформатора TR2 служит для получения однополярного питания +12 В. Аналогично предыдущему случаю, здесь используется диодный мост и LC-фильтр:

* Начальные данные: VIN=24 В, VOUT=12 В, fsw = 50 кГц, IOUT = 2 А, Iripple = 0,66 А.
* Расчёт: 
L = (VIN-VOUT) * Ton/Iripple = (24 – 12) * 0,5 * (1/50000)/0,66 = 181 (220) мкГ.
C = 220 мкФ (50В, ESR = 0,7 Ом). Vripple = Iripple * ESR = 0,7 В.

Параметры **дросселей** L1 и L2 (тип и размер магнитопровода, количество витков) подбирались с помощью программы DrosselRing (1100).

L1:

{% img /images/2015-07-26-power-supply-of-controller-for-hydroponics/L1.png %}

L2:

{% img /images/2015-07-26-power-supply-of-controller-for-hydroponics/L2.png %}