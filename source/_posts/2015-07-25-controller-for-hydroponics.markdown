---
layout: post
title: "Контроллер для гидропоники"
date: 2015-07-25 08:22:01 +0300
comments: true
categories: 
- STM32F407Z
- STM32F031F
- гидропоника
- контроллер
---

В один прекрасный день я узнал о гидропонике. Это технология выращивания растений без использования грунта. Растение помещается в искусственную влажную и, вместе с тем, хорошо аэрируемую и обогащённую минералами среду. Это создаёт лучшие по сравнению с естественной средой условия для роста растения.

Детальное знакомство с гидропоникой показало, что для интенсификации роста растения (и повышения урожайности) нужно следить за множеством параметров создаваемой искусственной среды.

Среди таких параметров:

* температура воздуха;
* влажность воздуха;
* минеральный состав питательного раствора;
* чистота минерального раствора и его pH;
* интенсивность освещения и (что важно) его спектральный состав;
* количество поступающего углекислого газа в часы бодрствования растения.

Очевидно, что обеспечить соблюдение всех параметров в ручном режиме является трудно осуществимой задачей. Необходимы технические средства для автоматизации процесса выращивания растений.

Такая необходимость и желание опробовать свои знания в области электроники привели к тому, что появился проект выходного дня под условным названием "Контроллер для гидропоники".

Контроллер обладает следующими характеристиками:

* 4 реле, коммутирующие напряжение ~220 В (ток до 5 А);
* 4 дискретных входа типа "сухой контакт";
* 2 выхода +12 В (ток до 100 мА);
* 3 аналоговых входа для измерения сигнала напряжением от 0 до +10 В;
* часы реального времени;
* встроенная память объемом 4 Мбайт;
* сервисный USB-интерфейс (виртуальный COM-порт);
* последовательный интерфейс RS-485 для связи с внешними датчиками или исполнительными механизмами;
* возможность подключения к сети Ethernet для настройки режимов работы;
* 4 выхода питания внешней нагрузки с токовым управлением (напряжение до +30 В, ток до 0,9 А);
* встроенный импульсный источник питания.

Используемые микроконтроллеры:

* STM32F407Z - выполнение программы управления;
* STM32F031F - для оцифровки токов в цепях питания внешней нагрузки.

Контроллер состоит из следующих блоков:

* [источник питания](/blog/2015/07/26/power-supply-of-controller-for-hydroponics);
* [основной блок](/blog/2015/08/02/main-block-of-controller-for-hydroponics);
* [блок управления внешней нагрузкой](/blog/2015/08/09/load-control-block-of-controller-for-hydroponics).